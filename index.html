<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Will Mindy skip work?</title>
		<link rel="stylesheet" href="style.css">
	</head>
	
	<body>
		<main>
			<div class="text-container">
				<h2 id="trackers">No trackers added</h2>
			</div>
			
				<div class="button-container">
					<button class="big" onclick="addLoad(1)">+1 extra load</button>
					<button class="big" onclick="removeLoad(1)">-1 skipped load</button>
					<br>
					<button onclick="addLoad(2)">No Cheese reset (+2)</button>
					<button onclick="addLoad(3)">Reset before reloading Creek (+3)</button>
					<br>
					<button onclick="addLoad(4)">Reset after reloading Creek (+4)</button>
					<button onclick="addLoad(5)">Reset to Depression end-level (+5)</button>
					<br>
					<button class="warn" onclick="reset()">Reboot (reset count)</button>
				</div>
				
				<br>
				<div class="button-container">
					<button class="secondary" onclick="addTracker()">Add tracker</button>
					<button class="secondary" onclick="removeTracker()">Remove last tracker</button>
				</div>
				
				<p>Background:</p>
				<div class="button-container">
					<button onclick="bg('black')">Black</button>
					<button onclick="bg('#212121')">Gray</button>
					<button onclick="bg('white')">White</button>
				</div>
			</p>
		</main>
		
		<script>
			currentlyOver = 0;
			successColor = '#53f753';
			
			trackers = [];
			
			const elementTrackers = document.getElementById("trackers");
			
			function addTracker() {
				let str = prompt("Enter tracker name:", "");
				let target = parseInt(prompt("Enter target load count:", 0));
				trackers.push([str, target]);
				updateTrackers();
			}
			
			function removeTracker() {
				trackers.pop();
				updateTrackers();
			}
			
			function updateTrackers() {
				if (trackers.length > 0) {
					let temp = "";
					let divSuccess = '<div style="color:' + successColor + '">';
					let divFail = '<div style="color:red">';
					for (let i = 0; i < trackers.length; i++) {
						let sum = trackers[i][1] + currentlyOver;
						if (sum % 4 == 0) {
							temp += divFail;
						}
						else {
							temp += divSuccess;
						}
					
						temp += trackers[i][0] + ": ";
						temp += sum + "</div><br />";
					}
					elementTrackers.innerHTML = temp;
				}
				else {
					elementTrackers.innerHTML = "No trackers added";
				}
			}
			
			function addLoad(n) {
				currentlyOver += n;
				updateTrackers();
			}
			
			function removeLoad(n) {
				currentlyOver -= n;
				updateTrackers();
			}
			
			function reset() {
				currentlyOver = 0;
				updateTrackers();
			}
						
			function bg(color) {
				document.body.style.background = color;
				if (color == 'white') {
					document.body.style.color = 'rgba(0, 0, 0, 0.9)';
					document.querySelector('.text-container').style.background = 'rgba(0, 0, 0, 0.1)';
					successColor = '#1faa1f';
					document.querySelector('.secondary').style.border = '4px solid rgba(0, 0, 0, 0.9)';
				}
				else {
					document.querySelector('.text-container').style.background = 'rgba(255, 255, 255, 0.1)';
					document.body.style.color = 'rgba(255, 255, 255, 0.9)';
					successColor = '#53f753';
					document.querySelector('.secondary').style.border = '4px solid white';
				}
				
				updateTrackers();
			}
		</script>
	</body>
</html>
